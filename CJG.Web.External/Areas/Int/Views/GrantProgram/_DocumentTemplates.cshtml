<div ng-controller="GrantProgramDocumentTemplates" class="form-section" ng-show="$parent.model.Id">
    <span class="panel-section-item">
        <span class="panel-section-title" ng-click="toggle($event)">Document Templates</span>
        <span class="panel-section-buttons">
            <span><button class="btn btn--empty" style="pointer-events: none;" tabindex="-1">&nbsp;</button></span>
            <section-edit-buttons ng-model="section.editing"></section-edit-buttons>
            <span class="small" ng-class="section.show ? 'up-arrow': 'down-arrow'" ng-click="toggle($event)"></span>
        </span>
    </span>

    <div class="panel-section-content" ng-if="section.show">
        <div class="form form-section-container">
            <div class="form__group">
                <div class="form--flex-2-col pull-left">
                    <div class="form__label text--bold">Template:&nbsp;</div>
                    <div class="form__control">
                        <div class="wrapper--dropdown selectmenu input--medium">
                            <select ng-model="section.template" ng-options="item.Key as item.Caption for item in section.templates" class="input--medium" ng-change="changeTemplate('{{section.template}}')"></select>
                        </div>
                    </div>
                </div>
                <div class="pull-right">
                    <button class="btn btn--secondary" style="margin-top: 0;" ng-click="preview()">Preview</button>
                </div>
            </div>
            <div class="form__group" ng-class="{'has-error': (errors.GrantAgreementCoverLetter || errors.GrantAgreementScheduleA || errors.GrantAgreementScheduleB || errors.ApplicantDeclaration || errors.ParticipantConsent)}">
                <textarea ng-model="section.body" class="textarea--large" rows="20" ng-disabled="!section.editing"></textarea>
                <validation ng-model="errors.GrantAgreementCoverLetter"></validation>
                <validation ng-model="errors.GrantAgreementScheduleA"></validation>
                <validation ng-model="errors.GrantAgreementScheduleB"></validation>
                <validation ng-model="errors.ApplicantDeclaration"></validation>
                <validation ng-model="errors.ParticipantConsent"></validation>
            </div>
        </div>
    </div>
</div>
