<div ng-controller="GrantStreamEligibility" class="form-section" ng-show="model.Id">
    <span class="panel-section-item">
        <span class="panel-section-title" ng-click="toggle($event)">Stream Eligibility Question</span>
        <span class="panel-section-buttons">
            <span>
                <input type="checkbox" id="enable-eligibility" ng-model="model.EligibilityEnabled" ng-click="changeEligibilityEnabled()" />
                <label for="enable-eligibility">Stream eligibility question enabled</label>
            </span>
            <span><button class="btn btn--empty" style="pointer-events: none;" tabindex="-1">&nbsp;</button></span>
            <section-edit-buttons ng-model="section.editing"></section-edit-buttons>
            <span class="small" ng-class="section.show ? 'up-arrow': 'down-arrow'" ng-click="toggle($event)"></span>
        </span>
    </span>

    <div class="panel-section-content" ng-if="section.show">
        <div class="form-section-container">
            <p>
                The grant stream eligibility requirements and a confirmation question will be displayed to external users when they select this stream.
                You may enter the eligibility requirements and question text for this stream and control if the answer to the question blocks application submission.
                If you do not configure application submission to be blocked for a non-eligible response then you can use the response in your application assessment.
            </p>
        </div>
        <div class="form-section-container">
            <div class="form__group">
                <div class="label-wrapper">
                    <label class="form__label">
                        Eligibility
                        <br />
                        Requirements:
                    </label>
                    <a class="link" ng-click="preview()">Test Requirements</a>
                </div>
                <div class="control-wrapper">
                    <textarea ng-model="model.EligibilityRequirements" rows="4" ng-validation ng-editing></textarea>
                </div>
            </div>
            <div class="form__group">
                <div class="label-wrapper">
                    <label class="form__label">
                        Question:
                    </label>
                </div>
                <div class="control-wrapper form-control">
                    <input type="text" ng-model="model.EligibilityQuestion" class="input--full" ng-validation ng-editing />
                </div>
            </div>
            <div class="form__group">
                <div class="label-wrapper">
                    <label class="form__label">Application submission is allowed:</label>
                </div>
                <div class="control-wrapper">
                    <input type="radio" id="eligibility-required" ng-model="model.EligibilityRequired" ng-value="true" ng-disabled="!section.editing" /> <label for="eligibility-required">Only with a "Yes" answer</label><br />
                    <input type="radio" id="eligibility-not-required" ng-model="model.EligibilityRequired" ng-value="false" ng-disabled="!section.editing" /> <label for="eligibility-not-required">With a "Yes" or "No" answer</label>
                </div>
            </div>
        </div>
    </div>
