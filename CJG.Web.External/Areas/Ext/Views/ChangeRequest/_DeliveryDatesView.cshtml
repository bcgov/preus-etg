<div ng-controller="ChangeDeliveryDatesView">
    <div class="dialog-header">
        <h3>{{ngDialogData.title}}</h3>
    </div>
    <div class="dialog-content">
        <div class="modal-content">
            <div>
                <div ng-if="alert.message" class="row row--alert">
                    <div class="alert" ng-class="'alert--' + alert.type" role="alert" ng-bind-html="alert.message"></div>
                </div>

                <div class="date-update-form-wrapper">
                    <p>
                        Your delivery start date must fall in the period <text>{{toPST(ngDialogData.model.GrantOpeningTrainingPeriodStartDate)}}</text>
                        to <text>{{toPST(ngDialogData.model.GrantOpeningTrainingPeriodEndDate)}}</text> for the grant you
                        have selected and it may not be before your application submission date.
                    </p>
                    <div class="form__group form__group--date">
                        <div class="form__label">
                            <label>New Start Date <abbr title="Required">*</abbr></label>
                        </div>
                        <div class="form__control">
                            <div class="control-wrapper" ng-validation="errors.StartDate">
                                <datedropdown ng-model="ngDialogData.model.StartDate"
                                              ng-text="ngDialogData.model.StartDate"
                                              ng-min-date="ngDialogData.model.GrantOpeningTrainingPeriodStartDate"
                                              ng-max-date="ngDialogData.model.GrantOpeningTrainingPeriodEndDate"
                                              ng-editing="true"></datedropdown>

                            </div>
                        </div>
                    </div>
                    <div class="form__group form__group--date">
                        <div class="form__label">
                            <label>New End Date <abbr title="Required">*</abbr></label>
                        </div>
                        <div class="form__control">
                            <div class="control-wrapper" ng-validation="errors.EndDate">
                                <datedropdown ng-model="ngDialogData.model.EndDate"
                                              ng-text="ngDialogData.model.EndDate"
                                              ng-min-date="ngDialogData.model.GrantOpeningTrainingPeriodStartDate"
                                              ng-max-date="getTrainingPeriodMaxDate"
                                              ng-editing="true"></datedropdown>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn--secondary" ng-click="closeThisDialog()">Cancel</button>
                        <button class="btn btn--primary btn--forward confirm-link pull-right" ng-click="save()">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




